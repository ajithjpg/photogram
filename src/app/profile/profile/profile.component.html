<div class="container profile">
    <div class="row" *ngIf="url =='profile'">
        <div class="col-12" *ngIf="profiledata != undefined">
            <div class="row">
                <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4 col-sm-4 col-xs-6 col-6 text-center">
                    <div>
                        <img src="{{profiledata.profile_picture_url}}" class="profileimg" />
                    </div>
                </div>
                <div class="col-xxl-8 col-xl-8 col-lg-8 col-md-8 col-sm-8 col-xs-6 col-6 mt-4rm">
                    <div class="row">
                        <div class="col-12 ml-4rm">
                            <h4 class="fs-18 ls-1 bold_ff">{{profiledata.username}}</h4>
                            <p class="txt-mute normal_ff">{{profiledata.full_name}}</p>
                        </div>

                        <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 col-4 text-center">
                            <label class="normal_ff">{{profiledata.posts.length}}</label>
                            <p class="bold_ff">Post</p>
                        </div>
                        <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 col-4 text-center">
                            <label class="normal_ff">{{profiledata.followers}}</label>
                            <p class="bold_ff">Followers</p>
                        </div>
                        <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3 col-4 text-center">
                            <label class="normal_ff">{{profiledata.following}}</label>
                            <p class="bold_ff">Following</p>
                        </div>
                        <div class="col-12" style="display: flex;">



                            <div style="width: 68%;" *ngIf="profiledata.User_Id == user_id" class="follow-btn primary"
                                [routerLink]="['/edit_profile',profiledata.User_Id]">

                                <i class="far fa-edit mar-r-1"></i> Edit Profile
                            </div>


                            <div *ngIf="profiledata.User_Id != user_id && profiledata.isfollow ==0 &&profiledata.isfollowing == 0"
                                class="follow-btn" (click)="follow(profiledata.User_Id)">
                                <i class="fa fa-user-plus" aria-hidden="true"></i> Follow
                            </div>

                            <div *ngIf="profiledata.isfollow ==1 || profiledata.isfollowing == 1" class="follow-btn"
                                [routerLink]="['/direct/message/',profiledata.User_Id]">
                                Message
                            </div>
                            <div *ngIf="profiledata.isfollow ==1 " class="follow-btn"
                                (click)="unfollow(profiledata.User_Id)">
                                <i class="fa fa-user-plus" aria-hidden="true"></i> UnFollow
                            </div>
                            <span (click)="follow(profiledata.User_Id)"
                                *ngIf="profiledata.isfollow ==1 &&profiledata.isfollowing == 1 " class="setting-icon"><i
                                    class="fa fa-user-plus" aria-hidden="true"></i></span>
                            <span (click)="follow(profiledata.User_Id)"
                                *ngIf="profiledata.isfollow ==0 && profiledata.isfollowing == 1 "
                                class="setting-icon"><i class="fa fa-user-plus" aria-hidden="true"></i></span>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12" *ngIf="profiledata != undefined">
            <div class="w-50" style="margin-left: 4rem" [innerHTML]="profiledata.bio">
              
            </div>
        </div>
        <div class="col-12" *ngIf="profiledata != undefined">
            <div class="col-12" style="border-bottom: 1px solid #ece6e6;margin: 0px 6px 15px 10px;">
                <label class="high_label bold_ff fs-15">Post</label>
            </div>
            <div class="col-12" *ngIf="profiledata.posts.length !=0">
                <div class="row">
                    <div class="col-3" *ngFor="let img of profiledata.posts">
                        <img width="100%" src="{{img.img_url}}" />
                    </div>
                </div>

            </div>
            <div *ngIf="profiledata.posts.length ==0">
                <div class="feed">
                    <div class=" col-12" style="text-align: center;">
                            <p class="normal_ff">
                                    <img width="10%" src="../../../assets/img/create_post.png">
                            </p>
                            <p class="normal_ff fs-15">We couldn't find any posts. Please create a new post.</p>
                            <button class="btn btn-light primary" [routerLink]="['/Create_post']" >Create Post</button>
                    </div>
            </div>
            </div>
        </div>
    </div>
    <div class="row" *ngIf="url =='edit_profile'">
        <div class="col-6 pad-1">
            <h4 class="fs-18 ls-1 font-weight-bold">Edit Profile</h4>
        </div>
        <div class="col-6 pad-1 text-end">
            <h4 class="fs-13" style="cursor: pointer;" (click)="backClickedCommon()">Back</h4>
        </div>
        <div class="col-12">
            <div class="row">
                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 text-center pad-1">
                    <div>
                        <img src="{{edit_Profile_img}}" class="profileimg" />
                    </div>
                    <diV class="upload_action" style="width: 50%;margin-left: 8rem;">
                        <button class=" btn  upload-button upload-button-upload" type="button" data-action="file">Choose
                            File</button>
                        <input class="upload-file" (change)="onFileSelected($event)" id="file" type="file" />
                    </diV>
                </div>

                <div class="col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 text-center pad-1">
                    <form [formGroup]="edit_profileform" novalidate class="sign-in-formm">
                        <div class="input-field">
                            <i class="fas fa-user"></i>
                            <input type="text" placeholder="Name" formControlName="Name" [(ngModel)]="Name" />
                        </div>
                        <div class="input-field">
                            <i class="fas fa-user"></i>
                            <input type="text" placeholder="Username" formControlName="username"
                                [(ngModel)]="username" />
                        </div>
                        <div class="input-field">
                            <i class="fas fa-user"></i>
                            <textarea type="text" placeholder="Bio" formControlName="bio" [(ngModel)]="bio">
                            </textarea>
                        </div>
                        <input type="submit" value="Update" (click)="editSave(edit_profileform.value)"
                            class="btn solid" />
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>